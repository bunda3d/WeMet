<!-- navbar -->
<nav ngxNavbarDynamicExpand 
  class="navbar navbar-dark navbar-expand-lg fixed-top bg-primary">
  <div class="container">
    <!-- navbar brand -->
    <a class="navbar-brand" href="#">{{ title }}</a>
    <!-- button - navbar toggler -->
    <button 
      class="navbar-toggler d-lg-none" 
      type="button" 
      (click)="collapse.toggle()"
      aria-controls="main-nav"
      aria-expanded="false"
      aria-label="navbar-toggler">
      <span 
        class="navbar-toggler-icon">
      </span>
    </button>

    <!-- inline links -->
    <ngx-navbar-collapse #collapse="ngxNavbarCollapse">
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
        <li class="nav-item">
          <a class="nav-link" href="#">Matches </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Lists </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Messages </a>
        </li>
      </ul>

    <!-- show dropdown for logged in users -->
      <div *ngIf="loggedIn()"  (onShown)="onShown()" (onHidden)="onHidden()" (isOpenChange)="isOpenChange()" dropdown> 
          <a href class="dropdown-toggle nav-link" style="cursor: pointer" dropdownToggle id="basic-link" (click)="false">
            <i class="fa fa-id-card-o text-light bg-dark mr-2"></i> 
      <!-- add "safe navigation" (?) marker to interpolation to make private "unique_name" optional -->
          Welcome {{ authService.decodedToken?.unique_name | titlecase }}
          </a>
        <ul id="basic-link-dropdown" *dropdownMenu class="dropdown-menu navbar-nav ml-auto" role="menu" aria-labelledby="basic-link" >
      <!-- dropdown toggle -->
          <li class="nav-item" dropdown> 
            <div *dropdownMenu aria-labelledby="navbarWelcomeUserDropdown" class="dropdownMenu text-light bg-primary"> 
              <a class="dropdown-item text-light bg-dark" ngbDropdownItem href="#" (click)="$event.preventDefault()"><i class="fa fa-user text-light bg-dark"></i>  Edit Profile</a> 
            <div class="dropdown-divider"></div> 
              <a class="dropdown-item text-light bg-dark" ngbropdownItem href="#" (click)="logout()"><i class="fa fa-sign-out text-light bg-dark"></i>  Logout</a> 
            </div> 
          </li> 
        </ul> 
      </div> 

      <!-- angular template form (#loginForm)-->
      <form *ngIf="!loggedIn()" #loginForm="ngForm" class="form-inline my-2 my-lg-0" (ngSubmit)="login()">
        <!-- username input --> 
        <input class="form-control mr-sm-2" type="text" name="username"  placeholder="Username" 
          required [(ngModel)]="model.username" aria-label="Username">
        <!-- password input --> 
        <input class="form-control mr-sm-2" type="password" name="password" placeholder="Password" 
          required [(ngModel)]="model.password" aria-label="Password">
        <!-- button: disabled if login inputs are not valid (blank, incorrect )-->
        <button [disabled]="!loginForm.valid" class="btn btn-outline-success my-2 my-sm-0" type="submit">Login</button>
      </form>
    </ngx-navbar-collapse>    
  </div> 
</nav>
